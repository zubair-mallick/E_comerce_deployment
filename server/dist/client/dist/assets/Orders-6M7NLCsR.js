import{n as l,y as m,r as o,_ as p,j as r,L as x}from"./index-BGOJMzyI.js";import{T as g}from"./TableHOC-BzQFIimL.js";import"./index-BP06CEvy.js";const h=[{Header:"ID",accessor:"_id"},{Header:"Quantity",accessor:"quantity"},{Header:"Discount",accessor:"discount"},{Header:"Amount",accessor:"amount"},{Header:"Status",accessor:"status"},{Header:"Action",accessor:"action"}],H=()=>{const{user:t}=l(s=>s.userReducer),{isLoading:n,data:e,isError:c,error:d}=m(t==null?void 0:t._id),[a,i]=o.useState([]);if(c){const s=d;p.error(s.data.message)}o.useEffect(()=>{e&&(e.orders.map(s=>{s.user||console.log(s)}),console.log(e),i(e.orders.map(s=>({_id:s._id,amount:Number(s.total.toFixed(2)),discount:s.discount,quantity:s.orderItems.length,status:r.jsx("span",{className:s.status==="Processing"?"red":s.status==="Shipped"?"green":"purple",children:s.status}),action:r.jsx(x,{to:`/admin/transaction/${s._id}`,children:"Manage"})}))))},[e]);const u=g(h,a,"dashboard-product-box","Orders",!(a.length<6))();return r.jsxs("div",{className:"container",children:[r.jsx("h1",{children:"My Orders"}),r.jsx("main",{children:n?"Loading":u})]})};export{H as default};
