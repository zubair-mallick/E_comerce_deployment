import{n as l,$ as p,r as n,_ as x,j as a,L as f}from"./index-CnNG6d7V.js";import{A as g}from"./AdminSidebar-BypyIHby.js";import{T as h}from"./TableHOC-49fFBn5x.js";import"./index-BwyhZKgd.js";import"./index-CT7zOLME.js";const j=[{Header:"Avatar",accessor:"user"},{Header:"Amount",accessor:"amount"},{Header:"Discount",accessor:"discount"},{Header:"Quantity",accessor:"quantity"},{Header:"Status",accessor:"status"},{Header:"Action",accessor:"action"}],y=()=>{const{user:r}=l(s=>s.userReducer),{isLoading:c,data:e,isError:d,error:i}=p(r==null?void 0:r._id),[t,u]=n.useState([]);if(d){const s=i;x.error(s.data.message)}n.useEffect(()=>{e&&(e.orders.map(s=>{s.user||console.log(s)}),u(e.orders.map(s=>{var o;return{user:(o=s.user)==null?void 0:o.name,amount:Number(s.total.toFixed(2)),discount:s.discount,quantity:s.orderItems.length,status:a.jsx("span",{className:s.status==="Processing"?"red":s.status==="Shipped"?"green":"purple",children:s.status}),action:a.jsx(f,{to:`/admin/transaction/${s._id}`,children:"Manage"})}})))},[e]);const m=h(j,t,"dashboard-product-box","Transactions",t.length>6)();return a.jsxs("div",{className:"admin-container",children:[a.jsx(g,{}),a.jsx("main",{children:c?"Loading":m})]})};export{y as default};
