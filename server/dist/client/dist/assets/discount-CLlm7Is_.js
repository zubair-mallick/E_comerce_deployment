import{n as u,p as l,r as n,_ as p,j as o,L as c,O as x,a0 as f}from"./index-BGOJMzyI.js";import{s as j}from"./index-u8q0SdJS.js";import{A as h}from"./AdminSidebar-D7NXFRCM.js";import{T as _}from"./TableHOC-BzQFIimL.js";import"./index-BP06CEvy.js";import"./index-9w_9ind6.js";const b=[{Header:"Id",accessor:"_id"},{Header:"Code",accessor:"code"},{Header:"Amount",accessor:"amount"},{Header:"Action",accessor:"action"}],E=()=>{const{user:e}=u(s=>s.userReducer),{data:a,loading:d,error:r}=j({url:`${l}/api/v1/payment/coupon/all?id=${e==null?void 0:e._id}`,dependencyProps:[]}),[t,i]=n.useState([]),m=_(b,t,"dashboard-product-box","Products",t.length>6)();return r&&p.error(r),n.useEffect(()=>{a&&i(a.coupons.map(s=>({_id:s._id,code:s.code,amount:s.amount,action:o.jsx(c,{to:`/admin/discount/${s._id}`,children:"Manage"})})))},[a]),o.jsxs("div",{className:"admin-container",children:[o.jsx(h,{}),o.jsx("main",{children:d?o.jsx(x,{length:20}):m}),o.jsx(c,{to:"/admin/discount/new",className:"create-product-btn",children:o.jsx(f,{})})]})};export{E as default};
