import{n as p,w as x,r as n,j as e,o as h,p as j,_ as v}from"./index-3-HnQ-PT.js";import{A as b}from"./AdminSidebar-CyxC_AcG.js";import"./index-BUK9MQst.js";import"./index-BPCLLJE1.js";const N=()=>{const{user:a}=p(t=>t.userReducer),d=x(),[u,o]=n.useState(!1),[r,i]=n.useState(""),[c,l]=n.useState(0),m=async t=>{t.preventDefault(),o(!0);try{const{data:s}=await h.post(`${j}/api/v1/payment/coupon/new?id=${a==null?void 0:a._id}`,{coupon:r,amount:c},{headers:{"Content-Type":"application/json"},withCredentials:!0});s.success&&(l(0),i(""),v.success(s.message),d("/admin/discount"))}catch(s){console.log(s)}finally{o(!1)}};return e.jsxs("div",{className:"admin-container",children:[e.jsx(b,{}),e.jsx("main",{className:"product-management",children:e.jsx("article",{children:e.jsxs("form",{onSubmit:m,children:[e.jsx("h2",{children:"New Coupon"}),e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",placeholder:"Coupon Code",value:r,onChange:t=>i(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Price"}),e.jsx("input",{type:"number",placeholder:"Amount",value:c,onChange:t=>l(Number(t.target.value))})]}),e.jsx("button",{disabled:u,type:"submit",children:"Create"})]})})})]})};export{N as default};
